{% extends "main_layout/main_layout.html" %}
{% block title %}| {{title}} {% endblock %}

{% block css_external %}
    <link href="{{ url_for('static', filename='styles/style2.css') }}" type="text/css" rel="stylesheet">
{% endblock %}


{% block content %}
    
    <div class="container-fluid bg">
        <div class="row">
        <div class="col-md-4 col-sm-4 col-xs-12">
                  
        </div>
        
        <div class="col-md-4 col-sm-4 col-xs-12">
        
        <!--form start-->   
        <form action="signup" method="POST" enctype=multipart/form-data class="form-container" id=form1>
            {{ signup.csrf_token }}
            <h1>Sign Up</h1>
           
            <div class="form-group">
                {{ signup.name.label }}
                {{ signup.name(class_="form-control", placeholder= "John Doe") }}
                <ul>
                    {% for error in signup.name.errors %}
                        <li>{{ error }}</li>
                    {% endfor %}
                </ul>  
            </div>
            <div class="form-group">
                {{ signup.address.label }}
                {{ signup.address(class_="form-control") }}
                <ul>
                    {% for error in signup.address.errors %}
                        <li>{{ error }}</li>
                    {% endfor %}
                </ul>  
            </div>
            <div class="form-group">
                {{ signup.DOB.label }}
                {{ signup.DOB(class_="form-control") }}
                 <ul>
                    {% for error in signup.DOB.errors %}
                        <li>{{ error }}</li>
                    {% endfor %}
                </ul>  
            </div>   
            <div class="form-group">
                {{ signup.email.label }}
                {{ signup.email(class_="form-control") }}
                <ul>
                    {% for error in signup.email.errors %}
                        <li>{{ error }}</li>
                    {% endfor %}
                </ul> 
            </div>
            <div class="form-group">
                {{ signup.password.label }}
                {{ signup.password(class_="form-control") }}
                <ul>
                    {% for error in signup.password.errors %}
                        <li>{{ error }}</li>
                    {% endfor %}
                </ul> 
            </div>
            <div class="form-group">
                {{ signup.confirm_password.label }}
                {{ signup.confirm_password(class_="form-control") }}
                <ul>
                    {% for error in signup.confirm_password.errors %}
                        <li>{{ error }}</li>
                    {% endfor %}
                </ul> 
            </div>   
            <div class="form-group">
                {{ signup.type.label }}
                {{ signup.type(class_="form-control") }}
                <ul>
                    {% for error in signup.type.errors %}
                        <li>{{ error }}</li>
                    {% endfor %}
                </ul> 
            </div>
            <div id='physician_fields'> </div>                                 
                 
            {{ signup.submit(class_="btn btn-success btn-block") }}
        </form>  
        <!--form end-->
        </div>
            <div class="col-md-4 col-sm-4 col-xs-12"></div>
        </div>
    </div>

{% endblock %}

{% block js_internal %}
    typeInput = document.querySelector('#type')
    
    typeInput.addEventListener('change',(event)=>{
        if (event.target.value === 'physician'){
           
            console.log(document.querySelector('#physician_fields'))
            document.querySelector('#physician_fields').innerHTML+=`
                <div class="form-group">
                    {{ physician_signup.physician_type.label }}
                    {{ physician_signup.physician_type(class_="form-control") }}
                </div>
                <div class="form-group">
                    {{ physician_signup.degree.label }}
                    {{ physician_signup.degree(class_="form-control") }}
                </div>
                <div class="form-group">
                    {{ physician_signup.place_of_education.label }}
                    {{ physician_signup.place_of_education(class_="form-control") }}
                </div>
                 <div class="form-group">
                    {{ physician_signup.med_key.label }}
                    {{ physician_signup.med_key(class_="form-control") }}
                </div>
                                   
               
               `       
        }
        else {
            document.querySelector('#physician_fields').innerHTML=""
        }

    } )
            
{% endblock %}

