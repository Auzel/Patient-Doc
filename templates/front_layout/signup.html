{% extends "front_layout/front_layout.html" %}
{% block title %}| {{title}} {% endblock %}

{% block content %}

    <div class="container-fluid bg">
        <div class="row">
        <div class="col-md-4 col-sm-4 col-xs-12"></div>
        <div class="col-md-4 col-sm-4 col-xs-12">
        <!--form start-->   
        <form action="signup" method="POST" enctype=multipart/form-data class="form-container" id=form1>
            {{ signup.csrf_token }}
            <h1>Sign Up</h1>
            <div class="form-group">
                {{ signup.name.label }}
                {{ signup.name(class_="form-control") }}
            </div>
            <div class="form-group">
                {{ signup.address.label }}
                {{ signup.address(class_="form-control") }}
            </div>
            <div class="form-group">
                {{ signup.DOB.label }}
                {{ signup.DOB(class_="form-control") }}
            </div>   
            <div class="form-group">
                {{ signup.email.label }}
                {{ signup.email(class_="form-control") }}
            </div>
            <div class="form-group">
                {{ signup.password.label }}
                {{ signup.password(class_="form-control") }}
            </div>
            <div class="form-group">
                {{ signup.confirm_password.label }}
                {{ signup.confirm_password(class_="form-control") }}
            </div>   
            <div class="form-group">
                {{ signup.type.label }}
                {{ signup.type(class_="form-control") }}
            </div>
            <div id='physician_fields'> </div>                                 
                 
            {{ signup.submit(class_="btn btn-success btn-block") }}
        </form>  
        <!--form end-->
        </div>
            <div class="col-md-4 col-sm-4 col-xs-12"></div>
        </div>
    </div>

{% endblock %}

{% block js %}
    typeInput = document.querySelector('#type')
    
    typeInput.addEventListener('change',(event)=>{
        if (event.target.value === 'physician'){
           
            console.log(document.querySelector('#physician_fields'))
            document.querySelector('#physician_fields').innerHTML+=`
                <div class="form-group">
                    {{ signup.physician_type.label }}
                    {{ signup.physician_type(class_="form-control") }}
                </div>
                <div class="form-group">
                    {{ signup.degree.label }}
                    {{ signup.degree(class_="form-control") }}
                </div>
                <div class="form-group">
                    {{ signup.place_of_education.label }}
                    {{ signup.place_of_education(class_="form-control") }}
                </div>
                 <div class="form-group">
                    {{ signup.med_key.label }}
                    {{ signup.med_key(class_="form-control") }}
                </div>
                   <div class="form-group">
                    {{ signup.license.label }}
                    {{ signup.license(class_="form-control") }}
                </div>
               
               `       
        }
        else {
            document.querySelector('#physician_fields').innerHTML=""
        }

    } )
            
{% endblock %}